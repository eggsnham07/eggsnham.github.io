<!DOCTYPE html>
<html>
    <head>
        <meta property="og:image" content="https://git.eggsnham.com/logo.ico" xmlns="https://opengraphprotocol.org/schema/">
        <meta name="description" content="HTML CSS and javascript editor webpage: test and improve you're HTML skills!">
        <link rel="stylesheet" href="style.css">
    </head>
    <body id="wrapper">
        <main id="content">
            <form id="code">
                <br>
                <div id="HTML">
                    <h1>Welcome to the website!</h1>
                    <h3>This Website Is Built For People to Test Javascript in the Browser</h3>
                    <p>if you want to use the current CSS this site is using then in your own file put in &lt;link rel="stylesheet" href="https://git.eggsnham.com/styles.css"&gt; before the &lt;/head&gt; tag</p>
                </div>
                <br>
                <br>
                <br>
                <div style="margin:0;width:1000px;height:512px">
                    <div class="inline-div">
                        <textarea id="jsCode" style="margin:0px;width:100%;height:100%;">
<!--TODO load Javascript scripting here-->
                        </textarea>
                    </div>
                    <br>
                    <input type="submit" value="Run">
                </div>
                <br>
            </form>
        </main>

        <script>
            var js = document.getElementById("jsCode")
            const begginerJS = `setTimeout(function(){
    alert("This is part of the Javascript below!")
}, 1000)`


            window.onload = function() {
                document.getElementById("jsCode").value = begginerJS.toString()
                loadScript()
            }
            document.getElementById("code").addEventListener("submit", function(e) {runScript();})

            function loadScript() {
                js.value = localStorage.getItem("SavedJS")
                var scripting = document.createElement("script")
                scripting.innerHTML =  `${localStorage.getItem("SavedJS")}`
                document.body.appendChild(scripting)
            }

            function runScript() {
                localStorage.setItem("SavedJS", js.value)
                window.location.reload
            }

        </script>

    </body>
</html>