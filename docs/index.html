<!DOCTYPE html>
<html>
    <head>
        <meta property="og:image" content="https://git.eggsnham.com/favicon.png" xmlns="https://opengraphprotocol.org/schema/">
        <meta name="description" content="JavaScript web based editor: Built for people to edit and design with JS">
        <link rel="stylesheet" href="style.css">
        
        <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
        integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
        crossorigin="anonymous"></script>

    </head>
    <body id="wrapper">
        <form id="code">
            <br>
            <div id="HTML">
                <h1>Welcome to the website!</h1>
                <h3>This Website Is Built For People to Test Javascript in the Browser</h3>
                <p>if you want to use the current CSS this site is using then in your own file put in <code>&lt;link rel="stylesheet" href="https://git.eggsnham.com/styles.css"&gt;</code> before the <code>&lt;/head&gt;</code> tag</p>
            </div>
            <br>
            <br>
            <br>
            <div style="margin:0;width:100%;height:512px">
                <textarea id="jsCode" style="margin:0px;width:60%;height:100%;">
<!--TODO load Javascript scripting here-->
                </textarea>
                <br>
                <input type="submit" value="Run">
            </div>
            <br>
        </form>
        <div style="border: 10px solid #333;width:60%; margin-left: 19.5%;">
            <pre class="content" id="console" style="width:100%;"></pre>
        </div>

        <script>
            var js = document.getElementById("jsCode")
            const begginerJS = `setTimeout(function(){
alert("This is part of the Javascript below!")
}, 1000)`


            window.onload = function() {
                document.getElementById("jsCode").value = begginerJS.toString()
                loadScript()
                console.info("Javascript IDE Starting!")
            }
            document.getElementById("code").addEventListener("submit", function(e) {runScript();})

            function loadScript() {
                js.value = localStorage.getItem("SavedJS")
                var scripting = document.createElement("script")
                scripting.innerHTML =  `${localStorage.getItem("SavedJS")}`
                document.body.appendChild(scripting)
                console.info("Javascript IDE Started!")
            }

            function runScript() {
                localStorage.setItem("SavedJS", js.value)
                window.location.reload
            }

            /*
                JavaScript IDE
            */
            console.error = function(e) {
                $("#console").append(`Error: ${e}<br>`)
            }

            console.warn = function(w) {
                $("#console").append(`Warning: ${w}<br>`)
            }

            console.info = function(i) {
                $("#console").append(`Info: ${i}<br>`)
            }

            console.log = function(log) {
                $("#console").append(log + "<br>")
            }
        </script>
    </body>
</html>
